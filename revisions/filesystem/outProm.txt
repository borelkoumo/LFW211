IMPORT { READFILE, WRITEFILE } FROM "FS/PROMISES";
IMPORT { DIRNAME, JOIN } FROM "PATH";
IMPORT { FILEURLTOPATH } FROM "URL";

CONST __FILENAME = FILEURLTOPATH(IMPORT.META.URL)
CONST __DIRNAME = DIRNAME(__FILENAME)
CONST DESTPATH = JOIN(__DIRNAME, 'OUTPROM.TXT')

ASYNC FUNCTION RUN () {
  CONST DATA = AWAIT READFILE(__FILENAME, { ENCODING: 'UTF8' })
  AWAIT WRITEFILE(DESTPATH, DATA.TOUPPERCASE())
  CONSOLE.LOG(AWAIT READFILE(DESTPATH, { ENCODING: 'UTF8' }))
}

RUN().CATCH((ERROR)=> CONSOLE.ERROR(ERROR))